<!DOCTYPE html>
<html lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="author" content="LCH">  
	<title>Test API</title>   <!--I'm comment--> 
	<!-- <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script> -->
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script type="text/javascript" src="https://goessner.net/download/prj/jsonxml/json2xml.js"></script>
	<script type="text/javascript" src="https://goessner.net/download/prj/jsonxml/xml2json.js"></script>
	<style type="text/css">
</style>	
</head>
<body>
<div>
	<button id='btn1'>post memo</button>
</div>
<!-- <input type="file" id="flup" onchange="getfolder(e)" webkitdirectory mozdirectory msdirectory odirectory directory multiple /> -->
<script>
$(document).ready(function() {
	function test() {
		p = Promise.resolve()
		for (let i = 0; i < 10; i++) {
			p = p.then(() => new Promise((resolve) =>{
				console.log(i);
				resolve(i);			
			}));
		}
	}
	// function test() {
	// 	p = Promise.resolve()
	// 	for (let i = 0; i < 10; i++) {
	// 		p = p.then(_ => new Promise((resolve) =>{
	// 				// setTimeout(() => {
	// 						console.log(i);
	// 						resolve(i);
	// 					}
	// 				// }, Math.random() * 1000)
	// 		));
	// 	}
	// }
	// return new Promise((resolve, reject) => {
	// 	const promise = this.processUpload(map, file).then(() => {});
	// 	resolve(promise);
	// });
	$( "#btn1" ).click(function() {
		console.log('on click');
		test();
	});


});
</script>
</body>
</html>